<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Week 6 - Part 2</title>

  <!-- ✅ Your shared lab style -->
  <link rel="stylesheet" href="../../common/lab.css">

  <script type="text/javascript" src="../../common/MV.js"></script>
  <script type="text/javascript" src="../../common/genmipmap.js"></script>

  <!-- Keep this pattern like your earlier labs -->
  <script id="wgsl" type="x-shader" src="shader.wgsl"></script>
  <script type="text/javascript" src="main.js"></script>
</head>

<body>
  <div class="wrap">
    <div class="titlebar">
      <div class="title">Week 6 - Part 2</div>
      <div class="subtitle">Mipmaps + wrapping/filtering controls (checkerboard texture)</div>
    </div>

    <div class="content">
      <canvas id="my-canvas" width="512" height="512">
        Please use a browser that supports HTML5 canvas.
      </canvas>

      <div class="panel">
        <div class="pill">Sampler controls</div>

        <div class="row">
          <label for="texture-wrapping">Wrapping</label>
          <select id="texture-wrapping">
            <option value="repeat" selected>repeat</option>
            <option value="clamp-to-edge">clamp-to-edge</option>
          </select>
        </div>

        <div class="row">
          <label for="mag-filter">Mag filter</label>
          <select id="mag-filter">
            <option value="nearest" selected>nearest</option>
            <option value="linear">linear</option>
          </select>
        </div>

        <div class="row">
          <label for="min-filter">Min filter</label>
          <select id="min-filter">
            <option value="nearest" selected>nearest</option>
            <option value="linear">linear</option>
          </select>
        </div>

        <div class="row">
          <label for="toggle-mipmap">Mipmapping</label>
          <input type="checkbox" id="toggle-mipmap" checked />
        </div>

        <div class="row">
          <label for="mipmap-filter">Mipmap filter</label>
          <select id="mipmap-filter">
            <option value="nearest">nearest</option>
            <option value="linear" selected>linear</option>
          </select>
        </div>

        <div class="hint" style="margin-top:12px;">
          Tip: use Live Server / local server so <code>shader.wgsl</code> loads.
        </div>

        <hr style="margin:14px 0;">

        <div class="pill">Explanation (Part 2)</div>

        <p><b>Wrapping (repeat vs clamp-to-edge):</b><br>
          Our texture coordinates go outside the range [0,1]. With <b>repeat</b>, the UVs wrap and the
          checkerboard tiles across the rectangle. With <b>clamp-to-edge</b>, UVs are clamped to the
          border, so large regions may sample the edge texels and look “stretched”.
        </p>

        <p><b>Magnification (magFilter):</b><br>
          When the texture is <i>magnified</i> (texels appear bigger than pixels), <b>nearest</b> gives a
          blocky/pixelated look, while <b>linear</b> blends neighboring texels to look smoother.
        </p>

        <p><b>Minification (minFilter):</b><br>
          When the texture is <i>minified</i> (many texels map to one pixel), aliasing/shimmering can happen.
          <b>nearest</b> can flicker more; <b>linear</b> reduces some aliasing but can still shimmer without mipmaps.
        </p>

        <p><b>Mipmapping + mipmapFilter:</b><br>
          Mipmaps store prefiltered smaller versions of the texture. This greatly reduces aliasing during
          <i>minification</i>. The <b>mipmapFilter</b> controls how we transition between mip levels:
          <b>nearest</b> picks one level, while <b>linear</b> blends between two levels for smoother transitions.
        </p>
      </div>
    </div>
  </div>
</body>
</html>
